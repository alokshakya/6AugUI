<p-confirmDialog header="Save Changes" [closeOnEscape]="false" [closable]="false" icon="fa fa-question-circle" #cd width="425">
    <p-footer>
        <button type="button" pButton class="ui-button-danger" icon="fa-close" label="No" (click)="cd.reject()"></button>
        <button type="button" pButton class="ui-button-success" icon="fa-check" label="Yes" (click)="cd.accept()"></button>
    </p-footer>
</p-confirmDialog>

<p-dialog header="Mobile Number Verification" [(visible)]="otpDialog" modal="true" responsive="true" [width]="400" [height]="300"> 
    <!--<div class="ui-g" id="otpDialog">
        Please enter OTP sent on {{mobile}}
        <div class="ui-g-12" class="otpfield"><input pInput type="number" [(ngModel)]="otp" /></div>
        <div class="ui-g" class="btngrp">
            <div class="ui-g-6"><button pButton class="ui-button-info" label="Verify" (click)="verify()"></button></div>     
            <div class="ui-g-6"><button pButton class="ui-button-success" label="Resend"></button></div>
        </div>
        <div class="ui-g-12" *ngIf="errorSection">Incorrect OTP. Please try again</div>
    </div>-->
    <div class="ui-g text-center">
        <div class="ui-g-12" *ngIf="otpDialog">
            <h5>Enter OTP sent on {{dummyEditBasicInfo?.mobile}} </h5>
            <input class="short" pInputText placeholder="Enter OTP" [(ngModel)]="dummyOtp"/><button class="ui-button-info withinput" pButton label="Resend"></button><br>
            <br><button pButton (click)="dummyVerify()" class="ui-button-success" label="Verify"></button>
        </div>
        <div class="ui-g-12" *ngIf="dummyIncorrectOtp">
            <h5 style="color:#DC4E42"><i class="fa fa-times"></i> Incorrect OTP. Please try again</h5><br>
        </div>
    </div>
</p-dialog>

<div class="ui-g">
      <p-growl [(value)]="growlmsg"></p-growl>
    <div class="ui-g-12">
        <p-tabView (onChange)="onChange()">
            <p-tabPanel header="Basic Info" leftIcon="fa-user">
                <div class="container">
                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-user"></i> Name</h4><p><span class="userdetails" *ngIf="!editBasic">{{dummyBasicInfo?.firstname}} {{dummyBasicInfo?.lastname}}</span><input pInputText *ngIf="editBasic" type="text" [(ngModel)]="dummyEditBasicInfo.firstname" ><input [(ngModel)]="dummyEditBasicInfo.lastname" pInputText *ngIf="editBasic" type="text"></p>
                        </div>
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-envelope"></i> Email</h4><p><span class="userdetails">&nbsp;&nbsp;{{dummyBasicInfo?.email}}</span></p>
                        </div>
                        <div class="col-md-4">
                            <button type="button" *ngIf="!editBasic" pButton class="ui-button-info" label="Edit" (click)="dummyEdit()"></button>
                            <button type="button" *ngIf="editBasic" pButton class="ui-button-success" label="Save" (click)="editBasic=false"></button>
                            <button type="button" *ngIf="editBasic" pButton class="ui-button-danger" label="Cancel" (click)="editBasic=false"></button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-th-large"></i> Class</h4><p><span class="userdetails"> &nbsp; {{dummyBasicInfo?.class}}</span>
                        </div>

                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-mobile"></i> &nbsp;Mobile</h4><p><span *ngIf="!editBasic" class="userdetails">{{dummyBasicInfo?.mobile}}</span> <input class="longinput" [(ngModel)]="dummyEditBasicInfo.mobile" pInputText maxlength="10" *ngIf="editBasic" type="number"><br> <button *ngIf="editBasic" (click)="otpDialog=true" pButton class="ui-button-warning" label="Verify"></button> </p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="row">
                                <div class="col-md-12 column userinfo">
                                  <h4><i class="fa fa-calendar"></i> Date Of Birth</h4><p><span class="userdetails" *ngIf="!editBasic" > &nbsp;{{dummyBasicInfo?.dob}}</span> &nbsp; <p-calendar [(ngModel)]="date" dateFormat="dd/mm/yy" [maxDate]="maxDate" [yearNavigator]="true" yearRange="1998:2012" [monthNavigator]="true" *ngIf="editBasic"></p-calendar></p>
                                </div>
                                <div class="col-md-12"></div>
                                <div class="col-md-12 column userinfo">
                                    <h4><i class="fa fa-male"></i> Gender</h4><p><span class="userdetails">{{dummyBasicInfo?.gender}}</span></p>
                                </div>
                                
                            </div>
                        </div>
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-home"></i> Address</h4><p><span class="userdetails" *ngIf="!editBasic"> &nbsp;{{dummyBasicInfo?.address}}, {{dummyBasicInfo?.city}}<br>&nbsp;{{dummyBasicInfo?.state}}, {{dummyBasicInfo?.country}}, &nbsp;{{dummyBasicInfo?.pincode}}</span></p>
                            <div class="address" *ngIf="editBasic">
                            <input pInputText type="text" placeholder="Address line 1"><br>
                            <input pInputText type="text" placeholder="Address line 2"><br>
                            <div class="select"><p-dropdown  [options]="state" [(ngModel)]="dummyEditBasicInfo.state"></p-dropdown></div>
                            <div class="select"><p-dropdown  [options]="city" [(ngModel)]="dummyEditBasicInfo.city"></p-dropdown></div>
                            <div class="select"><p-dropdown  [options]="country" [(ngModel)]="dummyEditBasicInfo.country"></p-dropdown></div>
                            <input  type="number" pInputText maxlength="6" placeholder="Pincode">
                            </div>  
                        
                        </div>
                    </div>
                </div>
            </p-tabPanel>

            <p-tabPanel header="School Info" leftIcon="fa-graduation-cap">
                <div class="container">
                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-building"></i> School Code </h4><p><span *ngIf="!editSchool" class="userdetails"> {{dummySchoolInfo?.code}}</span> &nbsp;<input class="longinput" [(ngModel)]="dummyEditSchoolInfo.code" pInputText *ngIf="editSchool" type="text"></p>
                        </div>
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-user"></i> Contact Person</h4><p><span *ngIf="!editSchool" class="userdetails"> &nbsp;{{dummySchoolInfo?.contactperson}}</span> &nbsp;<input class="longinput" [(ngModel)]="dummyEditSchoolInfo.contactperson" pInputText *ngIf="editSchool" type="text"></p>
                        </div>
                        <div class="col-md-4">
                            <button type="button" *ngIf="!editSchool" pButton class="ui-button-info" label="Edit" (click)="editSchool=true"></button>
                            <button type="button" *ngIf="editSchool" pButton class="ui-button-success" label="Save" (click)="editSchool=false"></button>
                            <button type="button" *ngIf="editSchool" pButton class="ui-button-danger" label="Cancel" (click)="editSchool=false"></button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-building"></i> School Name </h4><p><span *ngIf="!editSchool" class="userdetails"> {{dummySchoolInfo?.schoolname}}</span> &nbsp;<input class="longinput" [(ngModel)]="dummyEditSchoolInfo.schoolname" pInputText *ngIf="editSchool" type="text"></p>
                        </div>

                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-envelope-o"></i> Email</h4><p><span *ngIf="!editSchool" class="userdetails">&nbsp; {{dummySchoolInfo?.email}}</span> &nbsp; <input class="longinput" [(ngModel)]="dummyEditSchoolInfo.email" pInputText *ngIf="editSchool" type="text"></p>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-home"></i> Address</h4><p><span class="userdetails" *ngIf="!editSchool">  &nbsp;{{dummySchoolInfo?.address}}, {{dummySchoolInfo?.city}}, {{dummySchoolInfo?.state}}, <br> &nbsp;{{dummySchoolInfo?.country}}, {{dummySchoolInfo?.pincode}}</span></p>
                            <div class="address" *ngIf="editSchool">
                            <input pInputText type="text" placeholder="Address line 1"><br>
                            <input pInputText type="text" placeholder="Address line 2"><br>
                            <div class="select"><p-dropdown styleClass="dropdown" [options]="state" [(ngModel)]="dummyEditSchoolInfo.state"></p-dropdown></div>
                            <div class="select"><p-dropdown [options]="city" [(ngModel)]="dummyEditSchoolInfo.city"></p-dropdown></div>
                            <div class="select"><p-dropdown [options]="country" [(ngModel)]="dummyEditSchoolInfo.country"></p-dropdown></div>
                            <input  type="number" pInputText maxlength="6" placeholder="Pincode">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="row">
                                <div class="col-md-12 column userinfo">
                                    <h4><i class="fa fa-phone"></i> Landline</h4><p><span *ngIf="!editSchool" class="userdetails">&nbsp;{{dummySchoolInfo?.landline}}</span> &nbsp;<input class="longinput" *ngIf="editSchool" [(ngModel)]="dummyEditSchoolInfo.landline" pInputText maxlength="7" type="number"></p>
                                </div>
                                <div class="col-md-12"></div>
                                <div class="col-md-12 column userinfo">
                                    <h4><i class="fa fa-mobile"></i> Mobile</h4><p><span *ngIf="!editSchool" class="userdetails">{{dummySchoolInfo?.mobile}}</span><input class="longinput" *ngIf="editSchool" [(ngModel)]="dummyEditSchoolInfo.mobile" pInputText type="number" maxlength="10"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </p-tabPanel>

            <p-tabPanel header="Change Password" leftIcon="fa-key">
                <div class="container long">
                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-key"></i> Old Password</h4>
                            <input class="xpassword" *ngIf="showPassword" pInputText type="password" [(ngModel)]="oldPassword">
                        </div>
                        <div class="col-md-4"></div>
                        <div class="col-md-4">
                            <button type="button" *ngIf="!showPassword" pButton class="ui-button-info" label="Edit" (click)="showPassword=true"></button>
                            <button type="button" *ngIf="showPassword" pButton class="ui-button-success" label="Save" (click)="changePassword();showPassword=false"></button>
                            <button type="button" *ngIf="showPassword" pButton class="ui-button-danger" label="Cancel" (click)="showPassword=false"></button>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-key"></i> New Password</h4>
                            <input class="xpassword" pInputText #password="ngModel" *ngIf="showPassword" pPassword promptLabel="Atleast 6 characters" weakLabel="Weak" mediumLabel="Medium" strongLabel="Strong" type="password" [(ngModel)]="newPassword" pattern="^[^\s]{6,}"/>
                        </div>
                        <div class="col-md-4"></div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 userinfo">
                            <h4><i class="fa fa-key"></i> Confirm Password</h4>
                            <input class="xpassword" *ngIf="showPassword" pInputText type="password" [(ngModel)]="confirmNewPassword">
                        </div>
                        <div class="col-md-4"></div>
                    </div>
                </div>
            </p-tabPanel>

            <p-tabPanel header="Add Testimonial" leftIcon="fa-pencil">
                <div class="container">
                    <div class="row">
                        <div class="col-md-4 col-sm-12">
                            <p-panel header="Previous Testimonials">
                              
                              <div class="row">
                                <br>
                                <div class="col-md-10">
                                  <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
                                    Lorem Ipsum has been the industry's standard dummy</p>
                                </div>
                                <div class="col-md-2"><i class="fa fa-pencil"></i></div>
                              </div>
                              <div class="row"><br>
                                <div class="col-md-10">
                                  <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
                                    Lorem Ipsum has been the industry's standard dummy</p>
                                </div>
                                <div class="col-md-2"><i class="fa fa-pencil"></i></div>
                              </div>
                              <div class="row"><br>
                                <div class="col-md-10">
                                  <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. 
                                    Lorem Ipsum has been the industry's standard dummy</p>
                                </div>
                                <div class="col-md-2"><i class="fa fa-pencil"></i></div>
                              </div>
                              <hr>
                                  <h4>Rate OlympiadBox</h4>
                                  <p-rating [cancel]="false" [(ngModel)]="rating"></p-rating>
                            </p-panel>
                        </div>
                        <div class="col-md-8 col-sm-12">
                            <p-panel header="Post New Testimonial">
                              <div class="row">
                                <div class="col-md-7">
                                  <br>
                                  <textarea pInputTextarea [(ngModel)]="testimonial" placeholder="Enter Testimonial Here..."></textarea><br>
                                  <button pButton label="Add Testimonial" class="ui-button-success"></button><button pButton label="Not Now" class="ui-button-danger"></button>
                                </div>
                                <div class="col-md-5">
                                  <br>
                                  <p class="guidelines">Posting Guidelines</p>
                                    <span class="point"><i class="fa fa-check-square fa-lg"></i>Be Polite.</span><br>
                                    <span class="point"><i class="fa fa-check-square fa-lg"></i>Never Abuse.</span>
                                </div>
                              </div>
                            </p-panel>
                        </div>
                    </div>
                </div>
            </p-tabPanel>
        </p-tabView>
    </div>
</div>